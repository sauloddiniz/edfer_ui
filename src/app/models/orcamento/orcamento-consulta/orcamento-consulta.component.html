<div class="ui-g ui-fluid">
    <div class="ui-g-12">
        <div class="card card-w-title">

            <h1>Consulta Orçamento</h1>

            <div class="ui-g form-group">
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <p-table [value]="orcamentos" [scrollable]="true" [style]="{width:'100%'}" [(selection)]="selectFornecedor">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Data Orcamento</th>
                                <th>Item</th>
                                <th>Quantidade</th>
                                <th>Fornecedor</th>
                                <th>Telefone</th>
                                <th>Vendedor</th>
                                <th>À Vista</th>
                                <th>Parcelado</th>
                                <th>Select Fornecedor</th>
                                <th>Select Forma Pagamento</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-rowData let-i="rowIndex" let-t="count">
                            <tr *ngFor="let fornecedor of rowData.fornecedores; let forIndex=index; let forCount=count">
                                <td *ngIf="forIndex === 0" [attr.rowspan]="forCount">
                                    {{rowData.orcamento.dataOrcamento}}
                                </td>
                                <td *ngIf="forIndex === 0" [attr.rowspan]="forCount">
                                    {{rowData.descricao}}
                                </td>
                                <td *ngIf="forIndex === 0" [attr.rowspan]="forCount">
                                    {{rowData.quantidade}}
                                </td>
                                <td>
                                    {{rowData.fornecedores[forIndex].nome}}
                                </td>
                                <td>
                                    {{rowData.fornecedores[forIndex].telefone}}
                                </td>
                                <td>
                                    {{rowData.fornecedores[forIndex].nomeVendedor}}
                                </td>
                                <td>
                                    {{rowData.fornecedores[forIndex].formaPagamento.valorAv}}
                                </td>
                                <td>
                                    {{rowData.fornecedores[forIndex].formaPagamento.quantParcela}}X{{rowData.fornecedores[forIndex].formaPagamento.valorParcela}}={{rowData.fornecedores[forIndex].formaPagamento.quantParcela * rowData.fornecedores[forIndex].formaPagamento.valorParcela}}
                                </td>
                                <td>
                                    <p-tableRadioButton name="  " value="rowData.fornecedores[forIndex].fornecedorSelect"></p-tableRadioButton>
                                </td>
                                <td pEditableColumn>
                                    <p-cellEditor>
                                        <ng-template pTemplate="input">
                                            <p-dropdown [options]="formaPagamentoSelect" [style]="{'width':'100%'}"></p-dropdown>
                                        </ng-template>
                                        <ng-template pTemplate="output">
                                            {{rowData.fornecedores[forIndex].formaPagamento.tipoPagamentoSelect}}
                                        </ng-template>
                                    </p-cellEditor>
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>

        </div>
    </div>
</div>
